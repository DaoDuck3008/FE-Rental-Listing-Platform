"use client";
import DashboardCard from "@/components/common/dashboardCard";
import UserPersonalInformation from "@/components/user/userPersonalInformation";
import { useAuthStore } from "@/store/auth.store";
import {
  ArchiveRestore,
  Calendar,
  ChevronRight,
  CircleCheckBig,
  CirclePlus,
  Eye,
  FileSliders,
  FileText,
  Heart,
  History,
  Pencil,
  SquarePen,
  Zap,
} from "lucide-react";

export default function ProfilePage() {
  const user = useAuthStore((s) => s.user);
  const date = new Date();
  const formattedDate = date.toLocaleDateString("vi-VN", {
    weekday: "long",
    year: "numeric",
    month: "long",
    day: "numeric",
  });

  return (
    <main
      className=" w-full  transition-all duration-300 flex flex-col min-h-screen"
      id="main-content"
    >
      <div className=" mx-auto w-full p-4 ">
        <div className="flex flex-col lg:flex-row lg:items-center justify-between gap-4 mb-6 lg:mb-8">
          <div className="flex flex-col gap-1">
            <h2 className="text-[#0d141b] text-2xl lg:text-3xl font-black tracking-tight">
              Tổng quan
            </h2>
            <p className="text-[#4c739a] text-sm lg:text-base">
              Chào mừng,
              <span className="font-bold text-blue-500">
                {" "}
                {user!.full_name}!
              </span>
            </p>
          </div>
          <div className="flex items-center gap-3">
            <div className="hidden lg:flex items-center gap-2 px-4 py-2 bg-white border border-[#cfdbe7] rounded-lg text-sm font-bold shadow-sm">
              <span className="material-symbols-outlined text-[20px] text-blue-500">
                <Calendar />
              </span>
              <span>Hôm nay: {formattedDate}</span>
            </div>
            <button className="lg:hidden flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg text-sm font-bold shadow-lg shadow-blue-500/20 active:scale-95 transition-transform">
              <span className="material-symbols-outlined text-[20px]">add</span>
              <span>Đăng tin</span>
            </button>
          </div>
        </div>
        <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 lg:gap-6 mb-8">
          <DashboardCard
            icon={FileText}
            title="Số bài đăng đã tạo"
            value={12}
            description="+8%"
            iconSize={25}
            iconColor="blue-500"
            bgIconColor="blue-100"
          />

          <DashboardCard
            icon={ArchiveRestore}
            title="Đang chờ duyệt"
            value={2}
            description="Đang xử lý"
            iconSize={35}
            iconColor="yellow-500"
            textIconColor="yellow-600"
            bgIconColor="yellow-100"
          />

          <DashboardCard
            icon={Eye}
            title="Đang hiển thị"
            value={10}
            description="+2 mới"
            iconSize={25}
            iconColor="green-600"
            bgIconColor="green-100"
          />
        </div>
        <div className="mb-8 lg:mb-10">
          <h3 className="text-lg lg:text-xl font-bold mb-4 lg:mb-5 flex items-center gap-2">
            <span className="material-symbols-outlined text-blue-500">
              <Zap />
            </span>
            Hành động nhanh
          </h3>
          <div className="grid grid-cols-1 sm:grid-cols-3 gap-4">
            <button className="flex items-center justify-center gap-2 bg-blue-500 hover:bg-[#1069c4] text-white px-4 py-4 lg:px-6 rounded-xl font-bold transition-all shadow-lg shadow-blue-500/25 active:scale-95 touch-manipulation">
              <span className="material-symbols-outlined">
                <CirclePlus />
              </span>
              <span>Đăng tin mới</span>
            </button>
            <button className="flex items-center justify-center gap-2 bg-white border border-[#cfdbe7] text-[#0d141b] px-4 py-4 lg:px-6 rounded-xl font-bold hover:bg-slate-50 transition-all shadow-sm active:scale-95 touch-manipulation">
              <span className="material-symbols-outlined">
                <FileSliders />
              </span>
              <span>Quản lý bài</span>
            </button>
            <button className="flex items-center justify-center gap-2 bg-white border border-[#cfdbe7] text-[#0d141b] px-4 py-4 lg:px-6 rounded-xl font-bold hover:bg-slate-50 transition-all shadow-sm active:scale-95 touch-manipulation">
              <span className="material-symbols-outlined">
                <SquarePen />
              </span>
              <span>Sửa hồ sơ</span>
            </button>
          </div>
        </div>
        <div className="grid grid-cols-1 lg:grid-cols-2 gap-6 lg:gap-8">
          {/* Thông tin tài khoản */}
          <UserPersonalInformation />

          {/* Hoạt động gần dây */}
          <div className="flex flex-col h-full">
            <h3 className="text-lg lg:text-xl font-bold mb-4 lg:mb-5 flex items-center gap-2">
              <span className="material-symbols-outlined text-blue-500">
                <History />
              </span>
              Hoạt động gần đây
            </h3>
            <div className="bg-white border border-[#cfdbe7] rounded-xl divide-y divide-[#cfdbe7] shadow-sm flex-1">
              <div className="p-4 flex items-start sm:items-center justify-between gap-3 hover:bg-slate-50 transition-colors cursor-pointer">
                <div className="flex items-start sm:items-center gap-4">
                  <div className="w-10 h-10 rounded-full bg-green-50 flex items-center justify-center text-green-600 shrink-0">
                    <span className="material-symbols-outlined text-lg">
                      <CircleCheckBig size={20} />
                    </span>
                  </div>
                  <div>
                    <p className="text-sm font-bold line-clamp-1">
                      Bài đăng "Căn hộ Studio Quận 1" đã được duyệt
                    </p>
                    <p className="text-xs text-[#4c739a] mt-1">2 giờ trước</p>
                  </div>
                </div>
                <span className="material-symbols-outlined text-slate-400 text-sm">
                  <ChevronRight size={20} />
                </span>
              </div>
              <div className="p-4 flex items-start sm:items-center justify-between gap-3 hover:bg-slate-50 transition-colors cursor-pointer">
                <div className="flex items-start sm:items-center gap-4">
                  <div className="w-10 h-10 rounded-full bg-blue-500/10 flex items-center justify-center text-blue-500 shrink-0">
                    <span className="material-symbols-outlined text-lg">
                      <Pencil size={20} />
                    </span>
                  </div>
                  <div>
                    <p className="text-sm font-bold line-clamp-1">
                      Bạn đã cập nhật thông tin cá nhân
                    </p>
                    <p className="text-xs text-[#4c739a] mt-1">
                      Hôm qua, 14:20
                    </p>
                  </div>
                </div>
                <span className="material-symbols-outlined text-slate-400 text-sm">
                  <ChevronRight size={20} />
                </span>
              </div>
              <div className="p-4 flex items-start sm:items-center justify-between gap-3 hover:bg-slate-50 transition-colors cursor-pointer">
                <div className="flex items-start sm:items-center gap-4">
                  <div className="w-10 h-10 rounded-full bg-red-50 flex items-center justify-center text-red-500 shrink-0">
                    <span className="material-symbols-outlined text-lg">
                      <Heart size={20} />
                    </span>
                  </div>
                  <div>
                    <p className="text-sm font-bold line-clamp-1">
                      Bạn đã lưu tin "Nhà nguyên căn Gò Vấp"
                    </p>
                    <p className="text-xs text-[#4c739a] mt-1">20/05/2024</p>
                  </div>
                </div>
                <span className="material-symbols-outlined text-slate-400 text-sm">
                  <ChevronRight size={20} />
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
  );
}
